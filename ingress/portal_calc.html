<!DOCTYPE html>
<html lang="en-us">
<head>
<meta content="en-us" http-equiv="Content-Language">
<meta charset=utf-8 />
<meta name="viewport" content="width=device-width, viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes">

<title>Portal Calc</title>
<meta property="og:type" content="article" />
<meta property="og:description" content="a portal range calculator for planning long distance links." />
<link rel="stylesheet" href="/style/layout.css" />
<link rel="stylesheet" href="/style/ingress.css" />
<style>
	body {width:25rem;}
@media (max-device-width: 480px) {
	select, button {font-size:125%;}
}
	.float {float:left;}
	:not(.float) {clear:both;}
</style>
</head>

<body>
<div id="rangecalc">
	<h2>Portal Range Calculator</h2>
	
	<section><h3>Resonators</h3>
		<form id="res">
			<span class="float"><select id="res0"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select><select id="res1"><option value="8">8</option><option value="7" selected>7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select><select id="res2"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select><select id="res3"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select></span><span class="float"><select id="res4"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><<option hidden selected></option></select><select id="res5"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select><select id="res6"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select><select id="res7"><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option hidden selected></option></select></span>
			<script>
				var res0 = document.getElementById("res0");
				var res1 = document.getElementById("res1");
				var res2 = document.getElementById("res2");
				var res3 = document.getElementById("res3");
				var res4 = document.getElementById("res4");
				var res5 = document.getElementById("res5");
				var res6 = document.getElementById("res6");
				var res7 = document.getElementById("res7");
			</script>
		</form><br>
		<p id="preset">&nbsp;&nbsp;PresetsðŸ‘‡<br>
			<span class="float"><button onclick="resPreset('L8x1');">L8x1</button><button onclick="resPreset('L8x2');">L8x2</button></span><span class="float"><button onclick="resPreset('L8x3');">L8x3</button><button onclick="resPreset('L8x4');">L8x4</button></span><span class="float"><button onclick="resPreset('L8x8');">L8x8</button><button onclick="resPreset('L8+L7');">L8+L7</button></span>
			<script>
				function resPreset(btn){
					switch(btn){
						case "L8x1":
							res0.options[0].selected = true;
							res1.options[1].selected = true;
							res2.options[2].selected = true;
							res3.options[2].selected = true;
							res4.options[3].selected = true;
							res5.options[3].selected = true;
							res6.options[4].selected = true;
							res7.options[4].selected = true;
							break;
						case "L8x2":
							res0.options[0].selected = true;
							res1.options[0].selected = true;
							res2.options[1].selected = true;
							res3.options[1].selected = true;
							res4.options[2].selected = true;
							res5.options[2].selected = true;
							res6.options[2].selected = true;
							res7.options[2].selected = true;
							break;
						case "L8x3":
							res0.options[0].selected = true;
							res1.options[0].selected = true;
							res2.options[0].selected = true;
							res3.options[1].selected = true;
							res4.options[1].selected = true;
							res5.options[1].selected = true;
							res6.options[2].selected = true;
							res7.options[2].selected = true;
							break;
						case "L8x4":
							res0.options[0].selected = true;
							res1.options[0].selected = true;
							res2.options[0].selected = true;
							res3.options[0].selected = true;
							res4.options[1].selected = true;
							res5.options[1].selected = true;
							res6.options[1].selected = true;
							res7.options[1].selected = true;
							break;
						case "L8x8":
							res0.options[0].selected = true;
							res1.options[0].selected = true;
							res2.options[0].selected = true;
							res3.options[0].selected = true;
							res4.options[0].selected = true;
							res5.options[0].selected = true;
							res6.options[0].selected = true;
							res7.options[0].selected = true;
							break;
						case "L8+L7":
							res0.options[0].selected = true;
							res1.options[1].selected = true;
							res2.options[1].selected = true;
							res3.options[2].selected = true;
							res4.options[2].selected = true;
							res5.options[2].selected = true;
							res6.options[2].selected = true;
							res7.options[3].selected = true;
							break;
					}
					calculate();
				}
			</script>
		</p><br>
	</section>
	
	<section><h3>Mods</h3>
		<form id="mod">
			<span class="float"><select id="mod0"><option value="7">VRLA</option><option value="5">SBUL</option><option value="2">LA</option><option value="0">Shield</option><option value="0">HS</option><option value="0">MH</option><option value="0" selected></option></select><select id="mod1"><option value="7">VRLA</option><option value="5">SBUL</option><option value="2">LA</option><option value="0">Shield</option><option value="0">HS</option><option value="0">MH</option><option value="0" selected></option></select></span><span class="float"><select id="mod2"><option value="7">VRLA</option><option value="5">SBUL</option><option value="2">LA</option><option value="0">Shield</option><option value="0">HS</option><option value="0">MH</option><option value="0" selected></option></select><select id="mod3"><option value="7">VRLA</option><option value="5">SBUL</option><option value="2">LA</option><option value="0">Shield</option><option value="0">HS</option><option value="0">MH</option><option value="0" selected></option></select></span>
			<script>
				var mod0 = document.getElementById("mod0");
				var mod1 = document.getElementById("mod1");
				var mod2 = document.getElementById("mod2");
				var mod3 = document.getElementById("mod3");
			</script>
		</form><br>
		<p id="preset">&nbsp;&nbsp;PresetsðŸ‘‡<br>
			<span class="float"><button onclick="laPreset('LAx2');">LAx2</button><button onclick="laPreset('SBULx2');">SBULx2</button></span><span class="float"><button onclick="laPreset('LAx4');">LAx4</button><button onclick="laPreset('SBULx4');">SBULx4</button></span><span class="float"><button onclick="laPreset('Reset');">Reset</button></span>
			<script>
				function laPreset(btn){
					switch(btn){
						case "LAx2":
							mod0.options[2].selected = true;
							mod1.options[2].selected = true;
							mod2.options[6].selected = true;
							mod3.options[6].selected = true;
							break;
						case "SBULx2":
							mod0.options[1].selected = true;
							mod1.options[1].selected = true;
							mod2.options[6].selected = true;
							mod3.options[6].selected = true;
							break;
						case "LAx4":
							mod0.options[2].selected = true;
							mod1.options[2].selected = true;
							mod2.options[2].selected = true;
							mod3.options[2].selected = true;
							break;
						case "SBULx4":
							mod0.options[1].selected = true;
							mod1.options[1].selected = true;
							mod2.options[1].selected = true;
							mod3.options[1].selected = true;
							break;
						case "Reset":
							mod0.options[6].selected = true;
							mod1.options[6].selected = true;
							mod2.options[6].selected = true;
							mod3.options[6].selected = true;
							break;
					}
					calculate();
				}
			</script>
		</p><br>
	</section><hr>
	<section class="text-center">
		<h3><u id="range">&nbsp;&nbsp;&nbsp;</u> km</h3>
		<script>
			function sortNumber(a,b) {
					return b - a;
				}
			function calculate(){
				var resLvl = 
					Number(res0.options[res0.selectedIndex].value) +
					Number(res1.options[res1.selectedIndex].value) +
					Number(res2.options[res2.selectedIndex].value) +
					Number(res3.options[res3.selectedIndex].value) +
					Number(res4.options[res4.selectedIndex].value) +
					Number(res5.options[res5.selectedIndex].value) +
					Number(res6.options[res6.selectedIndex].value) +
					Number(res7.options[res7.selectedIndex].value);
				var la = new Array(4);
					la[0] = Number(mod0.options[mod0.selectedIndex].value);
					la[1] = Number(mod1.options[mod1.selectedIndex].value);
					la[2] = Number(mod2.options[mod2.selectedIndex].value);
					la[3] = Number(mod3.options[mod3.selectedIndex].value);
				la.sort(sortNumber);
				var laFactor = la[0] + la[1] / 4 + la[2] / 8 + la[3] / 8;
				if (laFactor == 0) {
					laFactor = 1;
				}
				if (resLvl > 0) {
					var range = parseInt(1.6 * Math.pow(resLvl/8 , 4) * laFactor) / 10;
					document.getElementById("range").innerHTML = range;
				}
			}
			document.addEventListener("change", calculate);
		</script>
	</section>
</div>

<nav class="ui">
	<a href="./"  style="text-decoration:none;">&lt;</a>
</nav>

<br>

<footer style="font-size:smaller; line-height:1.5em;"><i>
	* You can fork this page on <a href='https://github.com/feeshy/portal_calc_html' target='_blank'>github</a><br>
	** There is also a <a href="https://docs.google.com/spreadsheets/d/1k7E8HFnY7CE5r2mdPsAdUYwGo93zK4YSYCLVeZGnNEo/edit?usp=sharing" target="_blank">spreadsheet</a> version<br>
	*** NOT associated with Niantic or Ingress
</i></footer><br><br>

</body>
</html>
